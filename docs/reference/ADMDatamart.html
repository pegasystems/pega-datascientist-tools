<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generic method to read ADM Datamart data. — ADMDatamart • cdhtools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generic method to read ADM Datamart data. — ADMDatamart" />
<meta property="og:description" content="Method is very flexible in the arguments. It can take a data.table
for the model data and the predictor data, but the arguments can also be
pointing to files in CSV, zipped CSV, (LD)JSON, parquet or dataset export formats." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cdhtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/adhoc-datasetanalysis.html">adhoc-datasetanalysis</a>
    </li>
    <li>
      <a href="../articles/adm-datamart.html">adm-datamart</a>
    </li>
    <li>
      <a href="../articles/adm-explained.html">adm-explained</a>
    </li>
    <li>
      <a href="../articles/historical-dataset.html">historical-dataset</a>
    </li>
    <li>
      <a href="../articles/ih-reporting.html">ih-reporting</a>
    </li>
    <li>
      <a href="../articles/snapshots-to-scorecards.html">snapshots-to-scorecards</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generic method to read ADM Datamart data.</h1>
    
    <div class="hidden name"><code>ADMDatamart.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Method is very flexible in the arguments. It can take a <code>data.table</code>
for the model data and the predictor data, but the arguments can also be
pointing to files in CSV, zipped CSV, (LD)JSON, parquet or dataset export formats.</p>
    </div>

    <pre class="usage"><span class='fu'>ADMDatamart</span><span class='op'>(</span>
  modeldata <span class='op'>=</span> <span class='cn'>NULL</span>,
  predictordata <span class='op'>=</span> <span class='cn'>NULL</span>,
  folder <span class='op'>=</span> <span class='st'>"."</span>,
  cleanupHookModelData <span class='op'>=</span> <span class='va'>identity</span>,
  cleanupHookPredictorData <span class='op'>=</span> <span class='va'>identity</span>,
  keepSerializedModelData <span class='op'>=</span> <span class='cn'>F</span>,
  filterModelData <span class='op'>=</span> <span class='va'>identity</span>,
  filterPredictorData <span class='op'>=</span> <span class='va'>identity</span>,
  predictorCategorization <span class='op'>=</span> <span class='va'>defaultPredictorCategorization</span>,
  tmpFolder <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span>check <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>,
  verbose <span class='op'>=</span> <span class='cn'>F</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>modeldata</th>
      <td><p>Location, reference or the actual model table from the
ADM datamart. If not given defaults to the name of the dataset export file
for the datamart model table. To not use it at all, set to FALSE.</p></td>
    </tr>
    <tr>
      <th>predictordata</th>
      <td><p>Location, reference or the actual predictor binning
table from the ADM datamart. If not given defaults to the name of the dataset export file
for the datamart predictor binning table. To not use at all, set to FALSE.</p></td>
    </tr>
    <tr>
      <th>folder</th>
      <td><p>Optional path for the folder in which to look for the model
and predictor data. If first two arguments are not given will try to
interpret the modeldata argument as the folder name and use the default
dataset export file names.</p></td>
    </tr>
    <tr>
      <th>cleanupHookModelData</th>
      <td><p>Optional cleanup function to call directly after the
raw model data has been read from the source file. This is especially helpful
to clean up data that has been custom exported from a database into an
Excel or CSV file.</p></td>
    </tr>
    <tr>
      <th>cleanupHookPredictorData</th>
      <td><p>Optional cleanup function to call directly after the
raw predictor data has been read from the source file. This is especially helpful
to clean up data that has been custom exported from a database into an
Excel or CSV file.</p></td>
    </tr>
    <tr>
      <th>keepSerializedModelData</th>
      <td><p>By default the serialized model data is left
out from the model data as this typically is large and only needed for
specific use cases.</p></td>
    </tr>
    <tr>
      <th>filterModelData</th>
      <td><p>Post processing filter on the models, defaults to no
filtering but a custom function can be provided to drop e.g. certain
channels or issues or perform other clean up activities.</p></td>
    </tr>
    <tr>
      <th>filterPredictorData</th>
      <td><p>Post processing filter on the predictor data. Defaults
to no filtering. Filtering on model ID's present in the model data will be
performed regardless. Potentially useful is to supply <code>filterLatestSnapshotOnly</code>,
so to keep only the predictor data of the last snapshot - if multiple are
present.</p></td>
    </tr>
    <tr>
      <th>predictorCategorization</th>
      <td><p>When passed in, a function that determines
the category of a predictor. This is then used to set an extra field in
the predictor data: "PredictorCategory" that holds the predictor category.
This is useful to globally set the predictor categories instead of having
to pass it to every individual plot function. The function does not need
to be vectorized. It is just applied to the levels of a factor and should
take just a character as an argument. Defaults to a function that returns the text
before the first dot.</p></td>
    </tr>
    <tr>
      <th>tmpFolder</th>
      <td><p>Optional folder to store unzipped data (defaults to a temp folder)</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Flag for verbose logging, defaults to FALSE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>list</code>) with two elements: "modeldata" contains a clean
<code>data.table</code> with the ADM model data, and "predictordata" contains a
clean <code>data.table</code> with the ADM predictor snapshots.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>datamart</span> <span class='op'>&lt;-</span> <span class='fu'>ADMDatamart</span><span class='op'>(</span><span class='st'>"~/Downloads"</span><span class='op'>)</span>

  <span class='va'>datamart</span> <span class='op'>&lt;-</span> <span class='fu'>ADMDatamart</span><span class='op'>(</span><span class='st'>"models.csv"</span>, <span class='st'>"predictors.csv"</span>, folder<span class='op'>=</span><span class='st'>"adm"</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Otto Perdeck.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


